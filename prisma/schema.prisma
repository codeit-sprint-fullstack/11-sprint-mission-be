// Prisma Client 생성 설정
generator client {
    provider = "prisma-client"
    output   = "../generated/prisma"
}

// 데이터베이스 연결 설정
datasource db {
    provider = "postgresql"
}

model Product {
    id            String    @id @default(cuid())
    name          String
    description   String
    price         Int
    tags          String[]
    images        String[]
    ownerId       String?
    favoriteCount Int       @default(0)
    comments      Comment[]
    createdAt     DateTime  @default(now())
    updatedAt     DateTime  @updatedAt
}

model Article {
    id        String    @id @default(cuid())
    title     String
    content   String
    comments  Comment[]
    createdAt DateTime  @default(now())
    updatedAt DateTime  @updatedAt
}

model Comment {
    id        String   @id @default(cuid())
    content   String
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt

    article   Article? @relation(fields: [articleId], references: [id], onDelete: Cascade)
    articleId String?
    product   Product? @relation(fields: [productId], references: [id], onDelete: Cascade)
    productId String?
}
